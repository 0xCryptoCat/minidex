{
    "sourceFile": "src/features/chart/DetailView.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1755347748704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1755352922486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,31 +149,26 @@\n                   </strong>\n                   \n                   {/* Pool Selector Dropdown */}\n                   {pools.length > 1 && (\n-                    <select\n-                      value={pairId}\n-                      onChange={(e) => {\n-                        const sel = pools.find((p) => p.pairId === e.target.value);\n-                        if (sel) onSwitch(sel);\n-                      }}\n-                      style={{\n-                        background: 'var(--bg-input)',\n-                        border: '1px solid var(--border)',\n-                        borderRadius: 'var(--radius-small)',\n-                        color: 'var(--text)',\n-                        padding: 'var(--space-1) var(--space-2)',\n-                        fontSize: '0.875rem',\n-                        cursor: 'pointer',\n-                      }}\n-                    >\n-                      {pools.map((p) => (\n-                        <option key={p.pairId} value={p.pairId}>\n-                          {p.dex} {p.version ? `(${p.version})` : ''} — {p.base}/{p.quote}\n-                          {p.gtSupported === false ? ' — Limited' : ''}\n-                        </option>\n-                      ))}\n-                    </select>\n+                    <div className=\"pool-selector-wrapper\">\n+                      <select\n+                        value={pairId}\n+                        onChange={(e) => {\n+                          const sel = pools.find((p) => p.pairId === e.target.value);\n+                          if (sel) onSwitch(sel);\n+                        }}\n+                        className=\"pool-selector\"\n+                      >\n+                        {pools.map((p) => (\n+                          <option key={p.pairId} value={p.pairId}>\n+                            {p.dex} {p.version ? `(${p.version})` : ''} — {p.base}/{p.quote}\n+                            {p.gtSupported === false ? ' — Limited' : ''}\n+                          </option>\n+                        ))}\n+                      </select>\n+                      <ExpandMoreIcon className=\"pool-selector-arrow\" />\n+                    </div>\n                   )}\n                 </div>\n               </div>\n               \n"
                },
                {
                    "date": 1755356506680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Fragment, useEffect, useState } from 'react';\n import type { PoolSummary, TokenResponse } from '../../lib/types';\n import { token as fetchToken } from '../../lib/api';\n-import { formatUsd, formatCompact } from '../../lib/format';\n+import { formatUsd, formatCompact, formatShortAddr } from '../../lib/format';\n import CopyButton from '../../components/CopyButton';\n import { addressUrl } from '../../lib/explorer';\n import { \n   Language as WebsiteIcon,\n@@ -252,9 +252,9 @@\n         {active.pairAddress && (\n           <div className=\"addr-row\">\n             <span>Pair:</span>\n             <div>\n-              <code>{active.pairAddress}</code>\n+              <code>{formatShortAddr(active.pairAddress)}</code>\n               <CopyButton text={active.pairAddress} label=\"pair address\" />\n               {pairExplorer && (\n                 <a href={pairExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                   <OpenInNewIcon sx={{ fontSize: 16 }} />\n@@ -265,9 +265,9 @@\n         )}\n         <div className=\"addr-row\">\n           <span>{active.baseToken.symbol}:</span>\n           <div>\n-            <code>{active.baseToken.address}</code>\n+            <code>{formatShortAddr(active.baseToken.address)}</code>\n             <CopyButton text={active.baseToken.address} label={`${active.baseToken.symbol} address`} />\n             {baseExplorer && (\n               <a href={baseExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                 <OpenInNewIcon sx={{ fontSize: 16 }} />\n"
                },
                {
                    "date": 1755361663227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n import { Fragment, useEffect, useState } from 'react';\n import type { PoolSummary, TokenResponse } from '../../lib/types';\n import { token as fetchToken } from '../../lib/api';\n-import { formatUsd, formatCompact, formatShortAddr } from '../../lib/format';\n+import { formatUsd, formatCompact, formatShortAddr, formatSmallPrice } from '../../lib/format';\n import CopyButton from '../../components/CopyButton';\n import { addressUrl } from '../../lib/explorer';\n+import { getChainIcon, getProviderIcon, getSocialIcon } from '../../lib/chain-icons';\n import { \n   Language as WebsiteIcon,\n   Description as DocsIcon,\n   Twitter as TwitterIcon,\n@@ -160,10 +161,9 @@\n                         className=\"pool-selector\"\n                       >\n                         {pools.map((p) => (\n                           <option key={p.pairId} value={p.pairId}>\n-                            {p.dex} {p.version ? `(${p.version})` : ''} — {p.base}/{p.quote}\n-                            {p.gtSupported === false ? ' — Limited' : ''}\n+                            {p.base}/{p.quote} [{p.dex} {p.version ? `${p.version} ` : ''}{formatShortAddr(p.poolAddress || p.pairId)}]\n                           </option>\n                         ))}\n                       </select>\n                       <ExpandMoreIcon className=\"pool-selector-arrow\" />\n@@ -173,11 +173,20 @@\n               </div>\n               \n               <div className=\"detail-subline\">\n                 <span style={{ color: 'var(--text-secondary)' }}>{active.baseToken.name}</span>\n-                <span className=\"badge\">{chain}</span>\n-                <span className=\"badge\">{detail.provider}</span>\n-                {active.gtSupported === false && <span className=\"badge limited\">Limited</span>}\n+                <div className=\"badge chain-badge\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n+                  {getChainIcon(chain) && (\n+                    <img src={getChainIcon(chain)} alt={chain} style={{ width: 16, height: 16 }} />\n+                  )}\n+                  {chain}\n+                </div>\n+                <div className=\"badge provider-badge\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n+                  {getProviderIcon(detail.provider) && (\n+                    <img src={getProviderIcon(detail.provider)} alt={detail.provider} style={{ width: 16, height: 16 }} />\n+                  )}\n+                  {detail.provider}\n+                </div>\n               </div>\n               \n               {info.description && (\n                 <div className=\"detail-desc\">\n@@ -199,62 +208,88 @@\n                     </button>\n                   )}\n                 </div>\n               )}\n+              \n+              {/* Social Links */}\n+              {(info.websites?.length || info.socials?.length) && (\n+                <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginTop: '12px', flexWrap: 'wrap' }}>\n+                  {info.websites?.map((site, i) => (\n+                    <a \n+                      key={`website-${i}`}\n+                      href={site.url} \n+                      target=\"_blank\" \n+                      rel=\"noopener noreferrer\"\n+                      style={{\n+                        display: 'flex',\n+                        alignItems: 'center',\n+                        gap: '4px',\n+                        padding: '4px 8px',\n+                        background: 'var(--bg-elev)',\n+                        borderRadius: '6px',\n+                        textDecoration: 'none',\n+                        fontSize: '12px',\n+                        color: 'var(--text-muted)',\n+                        transition: 'all 0.2s ease'\n+                      }}\n+                      onMouseOver={(e) => {\n+                        e.currentTarget.style.background = 'var(--accent-telegram)';\n+                        e.currentTarget.style.color = 'white';\n+                      }}\n+                      onMouseOut={(e) => {\n+                        e.currentTarget.style.background = 'var(--bg-elev)';\n+                        e.currentTarget.style.color = 'var(--text-muted)';\n+                      }}\n+                    >\n+                      <span>{getSocialIcon('website')}</span>\n+                      {site.label}\n+                    </a>\n+                  ))}\n+                  {info.socials?.map((social, i) => (\n+                    <a \n+                      key={`social-${i}`}\n+                      href={social.url} \n+                      target=\"_blank\" \n+                      rel=\"noopener noreferrer\"\n+                      style={{\n+                        display: 'flex',\n+                        alignItems: 'center',\n+                        gap: '4px',\n+                        padding: '4px 8px',\n+                        background: 'var(--bg-elev)',\n+                        borderRadius: '6px',\n+                        textDecoration: 'none',\n+                        fontSize: '12px',\n+                        color: 'var(--text-muted)',\n+                        transition: 'all 0.2s ease'\n+                      }}\n+                      onMouseOver={(e) => {\n+                        e.currentTarget.style.background = 'var(--accent-telegram)';\n+                        e.currentTarget.style.color = 'white';\n+                      }}\n+                      onMouseOut={(e) => {\n+                        e.currentTarget.style.background = 'var(--bg-elev)';\n+                        e.currentTarget.style.color = 'var(--text-muted)';\n+                      }}\n+                    >\n+                      <span>{getSocialIcon(social.type)}</span>\n+                      {social.type}\n+                    </a>\n+                  ))}\n+                </div>\n+              )}\n             </div>\n           </div>\n         </>\n       )}\n \n-      {/* KPIs Grid */}\n-      <div className=\"detail-kpis\">\n-        <div className=\"kpi-item\">\n-          <span>Price USD</span>\n-          <strong>{fmtUsdOrDash(kpis.priceUsd)}</strong>\n-        </div>\n-        <div className=\"kpi-item\">\n-          <span>Price {active.quoteToken.symbol}</span>\n-          <strong>{fmtUsdOrDash(kpis.priceNative)}</strong>\n-        </div>\n-        <div className=\"kpi-item\">\n-          <span>Liquidity</span>\n-          <strong>{fmtUsdOrDash(kpis.liqUsd)}</strong>\n-        </div>\n-        <div className=\"kpi-item\">\n-          <span>FDV</span>\n-          <strong>{fmtUsdOrDash(kpis.fdvUsd)}</strong>\n-        </div>\n-        <div className=\"kpi-item\">\n-          <span>Market Cap</span>\n-          <strong>{fmtUsdOrDash(kpis.mcUsd)}</strong>\n-        </div>\n-        <div className=\"kpi-item\">\n-          <span>24h Change</span>\n-          <strong className={kpis.priceChange24hPct !== undefined ? (kpis.priceChange24hPct < 0 ? 'neg' : 'pos') : undefined}>\n-            {fmtPct(kpis.priceChange24hPct)}\n-          </strong>\n-        </div>\n-        <div className=\"kpi-item kpi-wide\">\n-          <span>Price Changes (5m | 1h | 6h | 24h)</span>\n-          <strong>{renderPriceChanges(active.priceChange)}</strong>\n-        </div>\n-        <div className=\"kpi-item kpi-wide\">\n-          <span>Transactions (Total | Buys — Sells)</span>\n-          <strong>{renderTxns(active.txns)}</strong>\n-        </div>\n-        <div className=\"kpi-item kpi-wide\">\n-          <span>Volume (5m | 1h | 6h | 24h)</span>\n-          <strong>{renderVolume(active.volume)}</strong>\n-        </div>\n-      </div>\n-\n       {/* Addresses */}\n       <div className=\"detail-addrs\">\n         {active.pairAddress && (\n           <div className=\"addr-row\">\n             <span>Pair:</span>\n             <div>\n-              <code>{formatShortAddr(active.pairAddress)}</code>\n+              <span>{formatShortAddr(active.pairAddress)}</span>\n               <CopyButton text={active.pairAddress} label=\"pair address\" />\n               {pairExplorer && (\n                 <a href={pairExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                   <OpenInNewIcon sx={{ fontSize: 16 }} />\n@@ -265,9 +300,9 @@\n         )}\n         <div className=\"addr-row\">\n           <span>{active.baseToken.symbol}:</span>\n           <div>\n-            <code>{formatShortAddr(active.baseToken.address)}</code>\n+            <span>{formatShortAddr(active.baseToken.address)}</span>\n             <CopyButton text={active.baseToken.address} label={`${active.baseToken.symbol} address`} />\n             {baseExplorer && (\n               <a href={baseExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                 <OpenInNewIcon sx={{ fontSize: 16 }} />\n@@ -277,9 +312,9 @@\n         </div>\n         <div className=\"addr-row\">\n           <span>{active.quoteToken.symbol}:</span>\n           <div>\n-            <code>{active.quoteToken.address}</code>\n+            <span>{formatShortAddr(active.quoteToken.address)}</span>\n             <CopyButton text={active.quoteToken.address} label={`${active.quoteToken.symbol} address`} />\n             {quoteExplorer && (\n               <a href={quoteExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                 <OpenInNewIcon sx={{ fontSize: 16 }} />\n@@ -288,8 +323,131 @@\n           </div>\n         </div>\n       </div>\n \n+      {/* KPIs Grid */}\n+      <div className=\"detail-kpis\">\n+        <div className=\"kpi-item\">\n+          <span>Price USD</span>\n+          <strong>{formatSmallPrice(active.priceUsd)}</strong>\n+        </div>\n+        <div className=\"kpi-item\">\n+          <span>Price {active.quoteToken.symbol}</span>\n+          <strong>{active.priceNative ? formatSmallPrice(Number(active.priceNative)) : '—'}</strong>\n+        </div>\n+        \n+        <div className=\"kpi-item\">\n+          <span>Liquidity</span>\n+          <strong>{formatUsd(active.liquidity?.usd)}</strong>\n+        </div>\n+        \n+        {active.fdv && active.marketCap && Math.abs(active.fdv - active.marketCap) < 1000 ? (\n+          <div className=\"kpi-item\">\n+            <span>FDV/MKT CAP</span>\n+            <strong>{formatUsd(active.fdv)}</strong>\n+          </div>\n+        ) : (\n+          <>\n+            <div className=\"kpi-item\">\n+              <span>FDV</span>\n+              <strong>{formatUsd(active.fdv)}</strong>\n+            </div>\n+            <div className=\"kpi-item\">\n+              <span>Market Cap</span>\n+              <strong>{formatUsd(active.marketCap)}</strong>\n+            </div>\n+          </>\n+        )}\n+\n+        {/* Price Changes */}\n+        <div className=\"kpi-item kpi-wide\">\n+          <span>Price Changes</span>\n+          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n+            {['m5', 'h1', 'h6', 'h24'].map((period, i) => {\n+              const change = active.priceChange?.[period as keyof typeof active.priceChange];\n+              const isPositive = change && change > 0;\n+              const isNegative = change && change < 0;\n+              \n+              return (\n+                <div key={period} style={{ textAlign: 'center', flex: 1 }}>\n+                  <div \n+                    style={{ \n+                      color: isPositive ? 'var(--accent-lime)' : isNegative ? 'var(--accent-maroon)' : 'var(--text)',\n+                      fontWeight: 600\n+                    }}\n+                  >\n+                    {change !== undefined ? `${change.toFixed(2)}%` : '—'}\n+                  </div>\n+                  <div style={{ fontSize: '11px', color: 'var(--text-muted)', marginTop: '2px' }}>\n+                    {period === 'm5' ? '5m' : period}\n+                  </div>\n+                  {i < 3 && <div style={{ position: 'absolute', right: `${(3-i) * 25}%`, top: '50%', transform: 'translateY(-50%)', width: '1px', height: '60%', background: 'var(--border-subtle)' }} />}\n+                </div>\n+              );\n+            })}\n+          </div>\n+        </div>\n+\n+        {/* Transactions */}\n+        <div className=\"kpi-item kpi-wide\">\n+          <span>Transactions (24h)</span>\n+          <div style={{ display: 'flex', alignItems: 'center' }}>\n+            <div style={{ flex: 1, textAlign: 'center' }}>\n+              <strong>\n+                {active.txns?.h24 ? (active.txns.h24.buys + active.txns.h24.sells) : '—'}\n+              </strong>\n+              <div style={{ fontSize: '11px', color: 'var(--text-muted)' }}>TXNS</div>\n+            </div>\n+            <div style={{ width: '1px', height: '40px', background: 'var(--border-subtle)', margin: '0 12px' }} />\n+            <div style={{ flex: 3, display: 'flex', alignItems: 'center' }}>\n+              {active.txns?.h24 && (\n+                <>\n+                  <div style={{ \n+                    background: 'var(--accent-lime)', \n+                    height: '8px',\n+                    flex: active.txns.h24.buys,\n+                    borderRadius: '4px 0 0 4px'\n+                  }} />\n+                  <div style={{ \n+                    background: 'var(--accent-maroon)', \n+                    height: '8px',\n+                    flex: active.txns.h24.sells,\n+                    borderRadius: '0 4px 4px 0'\n+                  }} />\n+                  <div style={{ marginLeft: '8px', fontSize: '12px' }}>\n+                    <span style={{ color: 'var(--accent-lime)' }}>{active.txns.h24.buys}</span>\n+                    <span style={{ margin: '0 4px' }}>—</span>\n+                    <span style={{ color: 'var(--accent-maroon)' }}>{active.txns.h24.sells}</span>\n+                  </div>\n+                </>\n+              )}\n+            </div>\n+          </div>\n+        </div>\n+\n+        {/* Volume */}\n+        <div className=\"kpi-item kpi-wide\">\n+          <span>Volume</span>\n+          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n+            {['m5', 'h1', 'h6', 'h24'].map((period, i) => {\n+              const volume = active.volume?.[period as keyof typeof active.volume];\n+              \n+              return (\n+                <div key={period} style={{ textAlign: 'center', flex: 1 }}>\n+                  <div style={{ color: 'var(--text)', fontWeight: 600 }}>\n+                    {volume !== undefined ? formatUsd(volume) : '—'}\n+                  </div>\n+                  <div style={{ fontSize: '11px', color: 'var(--text-muted)', marginTop: '2px' }}>\n+                    {period === 'm5' ? '5m' : period}\n+                  </div>\n+                  {i < 3 && <div style={{ position: 'absolute', right: `${(3-i) * 25}%`, top: '50%', transform: 'translateY(-50%)', width: '1px', height: '60%', background: 'var(--border-subtle)' }} />}\n+                </div>\n+              );\n+            })}\n+          </div>\n+        </div>\n+      </div>\n+\n       {/* Project Links */}\n       {linkItems.length > 0 && (\n         <div className=\"detail-links\">\n           {linkItems.map((l, i) => {\n"
                },
                {
                    "date": 1755364214274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -179,14 +179,8 @@\n                     <img src={getChainIcon(chain)} alt={chain} style={{ width: 16, height: 16 }} />\n                   )}\n                   {chain}\n                 </div>\n-                <div className=\"badge provider-badge\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n-                  {getProviderIcon(detail.provider) && (\n-                    <img src={getProviderIcon(detail.provider)} alt={detail.provider} style={{ width: 16, height: 16 }} />\n-                  )}\n-                  {detail.provider}\n-                </div>\n               </div>\n               \n               {info.description && (\n                 <div className=\"detail-desc\">\n"
                },
                {
                    "date": 1755434210892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n-import { Fragment, useEffect, useState } from 'react';\n-import type { PoolSummary, TokenResponse } from '../../lib/types';\n-import { token as fetchToken } from '../../lib/api';\n+import { Fragment, useState } from 'react';\n+import type { PoolSummary } from '../../lib/types';\n import { formatUsd, formatCompact, formatShortAddr, formatSmallPrice } from '../../lib/format';\n import CopyButton from '../../components/CopyButton';\n import { addressUrl } from '../../lib/explorer';\n import { getChainIcon, getProviderIcon, getSocialIcon } from '../../lib/chain-icons';\n@@ -40,31 +39,23 @@\n   facebook: FacebookIcon,\n };\n \n export default function DetailView({ chain, address, pairId, pools, onSwitch, hideDetailTop = false }: Props) {\n-  const [detail, setDetail] = useState<TokenResponse | null>(null);\n   const [descExpanded, setDescExpanded] = useState(false);\n \n-  useEffect(() => {\n-    let cancelled = false;\n-    fetchToken(chain, address).then(({ data }) => {\n-      if (cancelled) return;\n-      if (!('error' in data)) setDetail(data);\n-    });\n-    return () => {\n-      cancelled = true;\n-    };\n-  }, [chain, address]);\n-\n-  if (!detail) return (\n+  // Find the active pool from the provided pools data\n+  const active = pools.find((p) => p.pairId === pairId) || pools[0];\n+  \n+  if (!active) return (\n     <div className=\"detail\">\n       <div className=\"loading-skeleton\" style={{ height: 200, marginBottom: 'var(--space-4)' }} />\n       <div className=\"loading-skeleton\" style={{ height: 100 }} />\n     </div>\n   );\n \n-  const active = detail.pools.find((p) => p.pairId === pairId) || detail.pools[0];\n-  const info = detail.info || {};\n+  // Use the active pool's info, fallback to first pool's info if current has none\n+  const info = active.info || pools.find(p => p.info)?.info || {};\n+  \n   const kpis = {\n     priceUsd: active.priceUsd,\n     priceNative: active.priceNative,\n     liqUsd: active.liquidity?.usd,\n@@ -116,12 +107,12 @@\n \n   const pairExplorer = active.pairAddress\n     ? addressUrl(chain as any, active.pairAddress)\n     : undefined;\n-  const baseExplorer = addressUrl(chain as any, active.baseToken.address as any);\n-  const quoteExplorer = addressUrl(chain as any, active.quoteToken.address as any);\n+  const baseExplorer = active.baseToken ? addressUrl(chain as any, active.baseToken.address as any) : undefined;\n+  const quoteExplorer = active.quoteToken ? addressUrl(chain as any, active.quoteToken.address as any) : undefined;\n \n-  const otherPools = detail.pools.filter((p) => p.pairId !== active.pairId);\n+  const otherPools = pools.filter((p) => p.pairId !== active.pairId);\n \n   return (\n     <div className=\"detail animate-in\">\n       {/* Header Image and Detail Top - only if not hidden */}\n@@ -136,18 +127,18 @@\n           {/* Main Detail Section */}\n           <div className=\"detail-top\">\n             <div className=\"detail-avatar\">\n               {info.imageUrl ? \n-                <img src={info.imageUrl} alt={`${active.baseToken.symbol} logo`} /> : \n-                <div className=\"detail-letter\">{active.baseToken.symbol?.[0]}</div>\n+                <                img src={info.imageUrl} alt={`${active.baseToken?.symbol || active.base} logo`} /> : \n+                <div className=\"detail-letter\">{active.baseToken?.symbol?.[0] || active.base?.[0]}</div>\n               }\n             </div>\n             \n             <div className=\"detail-overview\">\n               <div className=\"detail-title\">\n                 <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-2)' }}>\n                   <strong style={{ fontSize: '1.25rem', fontWeight: 700 }}>\n-                    {active.baseToken.symbol} / {active.quoteToken.symbol}\n+                    {active.baseToken?.symbol || active.base} / {active.quoteToken?.symbol || active.quote}\n                   </strong>\n                   \n                   {/* Pool Selector Dropdown */}\n                   {pools.length > 1 && (\n@@ -172,9 +163,9 @@\n                 </div>\n               </div>\n               \n               <div className=\"detail-subline\">\n-                <span style={{ color: 'var(--text-secondary)' }}>{active.baseToken.name}</span>\n+                <span style={{ color: 'var(--text-secondary)' }}>{active.baseToken?.name || `${active.baseToken?.symbol || active.base} Token`}</span>\n                 <div className=\"badge chain-badge\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                   {getChainIcon(chain) && (\n                     <img src={getChainIcon(chain)} alt={chain} style={{ width: 16, height: 16 }} />\n                   )}\n@@ -291,32 +282,36 @@\n               )}\n             </div>\n           </div>\n         )}\n-        <div className=\"addr-row\">\n-          <span>{active.baseToken.symbol}:</span>\n-          <div>\n-            <span>{formatShortAddr(active.baseToken.address)}</span>\n-            <CopyButton text={active.baseToken.address} label={`${active.baseToken.symbol} address`} />\n-            {baseExplorer && (\n-              <a href={baseExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n-                <OpenInNewIcon sx={{ fontSize: 16 }} />\n-              </a>\n-            )}\n+        {active.baseToken && (\n+          <div className=\"addr-row\">\n+            <span>{active.baseToken.symbol}:</span>\n+            <div>\n+              <span>{formatShortAddr(active.baseToken.address)}</span>\n+              <CopyButton text={active.baseToken.address} label={`${active.baseToken.symbol} address`} />\n+              {baseExplorer && (\n+                <a href={baseExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n+                  <OpenInNewIcon sx={{ fontSize: 16 }} />\n+                </a>\n+              )}\n+            </div>\n           </div>\n-        </div>\n-        <div className=\"addr-row\">\n-          <span>{active.quoteToken.symbol}:</span>\n-          <div>\n-            <span>{formatShortAddr(active.quoteToken.address)}</span>\n-            <CopyButton text={active.quoteToken.address} label={`${active.quoteToken.symbol} address`} />\n-            {quoteExplorer && (\n-              <a href={quoteExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n-                <OpenInNewIcon sx={{ fontSize: 16 }} />\n-              </a>\n-            )}\n+        )}\n+        {active.quoteToken && (\n+          <div className=\"addr-row\">\n+            <span>{active.quoteToken.symbol}:</span>\n+            <div>\n+              <span>{formatShortAddr(active.quoteToken.address)}</span>\n+              <CopyButton text={active.quoteToken.address} label={`${active.quoteToken.symbol} address`} />\n+              {quoteExplorer && (\n+                <a href={quoteExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n+                  <OpenInNewIcon sx={{ fontSize: 16 }} />\n+                </a>\n+              )}\n+            </div>\n           </div>\n-        </div>\n+        )}\n       </div>\n \n       {/* KPIs Grid */}\n       <div className=\"detail-kpis\">\n@@ -324,9 +319,9 @@\n           <span>Price USD</span>\n           <strong>{formatSmallPrice(active.priceUsd)}</strong>\n         </div>\n         <div className=\"kpi-item\">\n-          <span>Price {active.quoteToken.symbol}</span>\n+          <span>Price {active.quoteToken?.symbol || active.quote}</span>\n           <strong>{active.priceNative ? formatSmallPrice(Number(active.priceNative)) : '—'}</strong>\n         </div>\n         \n         <div className=\"kpi-item\">\n@@ -473,9 +468,9 @@\n                   <span style={{ fontWeight: 600 }}>\n                     {p.dex} {p.version && `(${p.version})`}\n                   </span>\n                   <span>—</span>\n-                  <span>{p.baseToken.symbol}/{p.quoteToken.symbol}</span>\n+                  <span>{p.baseToken?.symbol || p.base}/{p.quoteToken?.symbol || p.quote}</span>\n                   <span>—</span>\n                   <span style={{ color: 'var(--text-muted)' }}>\n                     Liq ${p.liquidity?.usd ? formatCompact(p.liquidity.usd) : '—'}\n                   </span>\n@@ -496,7 +491,38 @@\n             </details>\n           ))}\n         </div>\n       )}\n+\n+      {/* Security Section */}\n+      <div className=\"security-section\">\n+        <h3 style={{ margin: '0 0 var(--space-3) 0', fontSize: '1rem', fontWeight: 600 }}>Security Analysis</h3>\n+        \n+        {/* HoneyPot.is Row */}\n+        <div className=\"security-row\">\n+          <div className=\"security-name\">\n+            <span>HoneyPot.is</span>\n+          </div>\n+          <div className=\"security-result\">\n+            <span className=\"security-status pending\">Checking...</span>\n+            <button className=\"security-expand\" onClick={() => {/* TODO: Toggle expanded */}}>\n+              <ExpandMoreIcon sx={{ fontSize: 16 }} />\n+            </button>\n+          </div>\n+        </div>\n+        \n+        {/* Go+ Security Row */}\n+        <div className=\"security-row\">\n+          <div className=\"security-name\">\n+            <span>Go+ Security</span>\n+          </div>\n+          <div className=\"security-result\">\n+            <span className=\"security-status pending\">Checking...</span>\n+            <button className=\"security-expand\" onClick={() => {/* TODO: Toggle expanded */}}>\n+              <ExpandMoreIcon sx={{ fontSize: 16 }} />\n+            </button>\n+          </div>\n+        </div>\n+      </div>\n     </div>\n   );\n }\n"
                },
                {
                    "date": 1755437663194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -110,26 +110,25 @@\n     : undefined;\n   const baseExplorer = active.baseToken ? addressUrl(chain as any, active.baseToken.address as any) : undefined;\n   const quoteExplorer = active.quoteToken ? addressUrl(chain as any, active.quoteToken.address as any) : undefined;\n \n-  const otherPools = pools.filter((p) => p.pairId !== active.pairId);\n-\n   return (\n     <div className=\"detail animate-in\">\n-      {/* Header Image and Detail Top - only if not hidden */}\n+      {/* Header Image - always show if available */}\n+      {info.header && (\n+        <div className=\"detail-header-wrap\">\n+          <img src={info.header} alt=\"\" className=\"detail-header\" loading=\"lazy\" />\n+        </div>\n+      )}\n+      \n+      {/* Detail Top Section - only if not hidden */}\n       {!hideDetailTop && (\n         <>\n-          {info.header && (\n-            <div className=\"detail-header-wrap\">\n-              <img src={info.header} alt=\"\" className=\"detail-header\" loading=\"lazy\" />\n-            </div>\n-          )}\n-          \n           {/* Main Detail Section */}\n           <div className=\"detail-top\">\n             <div className=\"detail-avatar\">\n               {info.imageUrl ? \n-                <                img src={info.imageUrl} alt={`${active.baseToken?.symbol || active.base} logo`} /> : \n+                <img src={info.imageUrl} alt={`${active.baseToken?.symbol || active.base} logo`} /> : \n                 <div className=\"detail-letter\">{active.baseToken?.symbol?.[0] || active.base?.[0]}</div>\n               }\n             </div>\n             \n@@ -152,26 +151,26 @@\n                         className=\"pool-selector\"\n                       >\n                         {pools.map((p) => (\n                           <option key={p.pairId} value={p.pairId}>\n-                            {p.base}/{p.quote} [{p.dex} {p.version ? `${p.version} ` : ''}{formatShortAddr(p.poolAddress || p.pairId)}]\n+                            {formatShortAddr(p.poolAddress || p.pairId)} {p.dex} {p.version || 'v1'} {p.baseToken?.symbol || p.base}/{p.quoteToken?.symbol || p.quote} ${p.liqUsd ? formatCompact(p.liqUsd) : '—'}\n                           </option>\n                         ))}\n                       </select>\n+                      <span className=\"pool-selector-current\">\n+                        {formatShortAddr(active.poolAddress || active.pairId)}\n+                      </span>\n                       <ExpandMoreIcon className=\"pool-selector-arrow\" />\n                     </div>\n                   )}\n                 </div>\n               </div>\n               \n               <div className=\"detail-subline\">\n                 <span style={{ color: 'var(--text-secondary)' }}>{active.baseToken?.name || `${active.baseToken?.symbol || active.base} Token`}</span>\n-                <div className=\"badge chain-badge\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n-                  {getChainIcon(chain) && (\n-                    <img src={getChainIcon(chain)} alt={chain} style={{ width: 16, height: 16 }} />\n-                  )}\n-                  {chain}\n-                </div>\n+                {getChainIcon(chain) && (\n+                  <img src={getChainIcon(chain)} alt={chain} style={{ width: 20, height: 20 }} />\n+                )}\n               </div>\n               \n               {info.description && (\n                 <div className=\"detail-desc\">\n@@ -266,8 +265,29 @@\n           </div>\n         </>\n       )}\n \n+      {/* Project Links */}\n+      {linkItems.length > 0 && (\n+        <div className=\"detail-links\">\n+          {linkItems.map((l, i) => {\n+            const IconComponent = LINK_ICONS[l.key] || WebsiteIcon;\n+            return (\n+              <a \n+                key={i} \n+                href={l.url} \n+                target=\"_blank\" \n+                rel=\"noopener noreferrer\" \n+                title={l.key}\n+                className=\"detail-link\"\n+              >\n+                <IconComponent sx={{ fontSize: 20 }} />\n+              </a>\n+            );\n+          })}\n+        </div>\n+      )}\n+\n       {/* Addresses */}\n       <div className=\"detail-addrs\">\n         {active.pairAddress && (\n           <div className=\"addr-row\">\n@@ -386,29 +406,32 @@\n               </strong>\n               <div style={{ fontSize: '11px', color: 'var(--text-muted)' }}>TXNS</div>\n             </div>\n             <div style={{ width: '1px', height: '40px', background: 'var(--border-subtle)', margin: '0 12px' }} />\n-            <div style={{ flex: 3, display: 'flex', alignItems: 'center' }}>\n-              {active.txns?.h24 && (\n+            <div style={{ flex: 3, display: 'flex', flexDirection: 'column', gap: '4px' }}>\n+              {active.txns?.h24 ? (\n                 <>\n-                  <div style={{ \n-                    background: 'var(--accent-lime)', \n-                    height: '8px',\n-                    flex: active.txns.h24.buys,\n-                    borderRadius: '4px 0 0 4px'\n-                  }} />\n-                  <div style={{ \n-                    background: 'var(--accent-maroon)', \n-                    height: '8px',\n-                    flex: active.txns.h24.sells,\n-                    borderRadius: '0 4px 4px 0'\n-                  }} />\n-                  <div style={{ marginLeft: '8px', fontSize: '12px' }}>\n-                    <span style={{ color: 'var(--accent-lime)' }}>{active.txns.h24.buys}</span>\n-                    <span style={{ margin: '0 4px' }}>—</span>\n-                    <span style={{ color: 'var(--accent-maroon)' }}>{active.txns.h24.sells}</span>\n+                  <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '12px' }}>\n+                    <span style={{ color: 'var(--accent-lime)', fontWeight: 600 }}>{active.txns.h24.buys}</span>\n+                    <span style={{ color: 'var(--accent-maroon)', fontWeight: 600 }}>{active.txns.h24.sells}</span>\n                   </div>\n+                  <div style={{ display: 'flex', alignItems: 'center', gap: '1px' }}>\n+                    <div style={{ \n+                      background: 'var(--accent-lime)', \n+                      height: '8px',\n+                      flex: active.txns.h24.buys,\n+                      borderRadius: '4px 0 0 4px'\n+                    }} />\n+                    <div style={{ \n+                      background: 'var(--accent-maroon)', \n+                      height: '8px',\n+                      flex: active.txns.h24.sells,\n+                      borderRadius: '0 4px 4px 0'\n+                    }} />\n+                  </div>\n                 </>\n+              ) : (\n+                <div style={{ textAlign: 'center', color: 'var(--text-muted)' }}>—</div>\n               )}\n             </div>\n           </div>\n         </div>\n@@ -435,65 +458,8 @@\n           </div>\n         </div>\n       </div>\n \n-      {/* Project Links */}\n-      {linkItems.length > 0 && (\n-        <div className=\"detail-links\">\n-          {linkItems.map((l, i) => {\n-            const IconComponent = LINK_ICONS[l.key] || WebsiteIcon;\n-            return (\n-              <a key={i} href={l.url} target=\"_blank\" rel=\"noopener noreferrer\" title={l.key}>\n-                <IconComponent sx={{ fontSize: 20 }} />\n-              </a>\n-            );\n-          })}\n-        </div>\n-      )}\n-\n-      {/* Other Pools */}\n-      {otherPools.length > 0 && (\n-        <div className=\"detail-pools\">\n-          <h3 style={{ \n-            fontSize: '1rem', \n-            fontWeight: 600, \n-            margin: '0 0 var(--space-3) 0',\n-            color: 'var(--text-secondary)',\n-          }}>\n-            Other Pools\n-          </h3>\n-          {otherPools.slice(0, 3).map((p) => (\n-            <details key={p.pairId} className=\"pool-item\">\n-              <summary>\n-                <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-2)' }}>\n-                  <span style={{ fontWeight: 600 }}>\n-                    {p.dex} {p.version && `(${p.version})`}\n-                  </span>\n-                  <span>—</span>\n-                  <span>{p.baseToken?.symbol || p.base}/{p.quoteToken?.symbol || p.quote}</span>\n-                  <span>—</span>\n-                  <span style={{ color: 'var(--text-muted)' }}>\n-                    Liq ${p.liquidity?.usd ? formatCompact(p.liquidity.usd) : '—'}\n-                  </span>\n-                  {!p.gtSupported && <span className=\"badge limited\">Limited</span>}\n-                </div>\n-              </summary>\n-              <div className=\"pool-body\">\n-                <div className=\"pool-switcher\">\n-                  <button \n-                    onClick={() => onSwitch(p)}\n-                    className=\"btn-secondary\"\n-                    style={{ marginTop: 'var(--space-2)' }}\n-                  >\n-                    Switch to this pool\n-                  </button>\n-                </div>\n-              </div>\n-            </details>\n-          ))}\n-        </div>\n-      )}\n-\n       {/* Security Section */}\n       <div className=\"security-section\">\n         <h3 style={{ margin: '0 0 var(--space-3) 0', fontSize: '1rem', fontWeight: 600 }}>Security Analysis</h3>\n         \n"
                }
            ],
            "date": 1755347748704,
            "name": "Commit-0",
            "content": "import { Fragment, useEffect, useState } from 'react';\nimport type { PoolSummary, TokenResponse } from '../../lib/types';\nimport { token as fetchToken } from '../../lib/api';\nimport { formatUsd, formatCompact } from '../../lib/format';\nimport CopyButton from '../../components/CopyButton';\nimport { addressUrl } from '../../lib/explorer';\nimport { \n  Language as WebsiteIcon,\n  Description as DocsIcon,\n  Twitter as TwitterIcon,\n  Telegram as TelegramIcon,\n  GitHub as GitHubIcon,\n  Instagram as InstagramIcon,\n  Facebook as FacebookIcon,\n  OpenInNew as OpenInNewIcon,\n  ExpandMore as ExpandMoreIcon,\n} from '@mui/icons-material';\nimport '../../styles/detail.css';\n\ninterface Props {\n  chain: string;\n  address: string;\n  pairId: string;\n  pools: PoolSummary[];\n  onSwitch: (p: PoolSummary) => void;\n  hideDetailTop?: boolean;\n}\n\nconst LINK_ICONS: Record<string, any> = {\n  website: WebsiteIcon,\n  docs: DocsIcon,\n  whitepaper: DocsIcon,\n  twitter: TwitterIcon,\n  x: TwitterIcon,\n  telegram: TelegramIcon,\n  discord: TelegramIcon, // Using telegram icon as fallback\n  github: GitHubIcon,\n  instagram: InstagramIcon,\n  facebook: FacebookIcon,\n};\n\nexport default function DetailView({ chain, address, pairId, pools, onSwitch, hideDetailTop = false }: Props) {\n  const [detail, setDetail] = useState<TokenResponse | null>(null);\n  const [descExpanded, setDescExpanded] = useState(false);\n\n  useEffect(() => {\n    let cancelled = false;\n    fetchToken(chain, address).then(({ data }) => {\n      if (cancelled) return;\n      if (!('error' in data)) setDetail(data);\n    });\n    return () => {\n      cancelled = true;\n    };\n  }, [chain, address]);\n\n  if (!detail) return (\n    <div className=\"detail\">\n      <div className=\"loading-skeleton\" style={{ height: 200, marginBottom: 'var(--space-4)' }} />\n      <div className=\"loading-skeleton\" style={{ height: 100 }} />\n    </div>\n  );\n\n  const active = detail.pools.find((p) => p.pairId === pairId) || detail.pools[0];\n  const info = detail.info || {};\n  const kpis = {\n    priceUsd: active.priceUsd,\n    priceNative: active.priceNative,\n    liqUsd: active.liquidity?.usd,\n    fdvUsd: active.fdv,\n    mcUsd: active.marketCap,\n    priceChange24hPct: active.priceChange?.h24,\n  };\n\n  const fmtUsdOrDash = (v?: number) => (v !== undefined ? formatUsd(v) : '—');\n  const fmtPct = (v?: number) => (v !== undefined ? `${v.toFixed(2)}%` : '—');\n  const fmtCompactOrDash = (v?: number) => (v !== undefined ? formatCompact(v) : '—');\n\n  const renderPriceChanges = (pc?: { m5?: number; h1?: number; h6?: number; h24?: number }) =>\n    ['m5', 'h1', 'h6', 'h24'].map((k, i) => (\n      <Fragment key={k}>\n        <span\n          className={\n            pc?.[k as keyof typeof pc] !== undefined\n              ? pc![k as keyof typeof pc]! < 0\n                ? 'neg'\n                : 'pos'\n              : undefined\n          }\n        >\n          {fmtPct(pc?.[k as keyof typeof pc])}\n        </span>\n        {i < 3 && ' | '}\n      </Fragment>\n    ));\n\n  const renderTxns = (tx?: { h24?: { buys: number; sells: number } }) => {\n    const h24 = tx?.h24;\n    if (!h24) return '—';\n    const total = h24.buys + h24.sells;\n    return `${total} | ${h24.buys} — ${h24.sells}`;\n  };\n\n  const renderVolume = (v?: { m5?: number; h1?: number; h6?: number; h24?: number }) =>\n    ['m5', 'h1', 'h6', 'h24'].map((k, i) => (\n      <Fragment key={k}>\n        {fmtCompactOrDash(v?.[k as keyof typeof v])}\n        {i < 3 && ' | '}\n      </Fragment>\n    ));\n\n  const linkItems: { key: string; url: string }[] = [];\n  info.websites?.forEach((w) => linkItems.push({ key: (w.label || 'website').toLowerCase(), url: w.url }));\n  info.socials?.forEach((s) => linkItems.push({ key: (s.type || '').toLowerCase(), url: s.url }));\n\n  const pairExplorer = active.pairAddress\n    ? addressUrl(chain as any, active.pairAddress)\n    : undefined;\n  const baseExplorer = addressUrl(chain as any, active.baseToken.address as any);\n  const quoteExplorer = addressUrl(chain as any, active.quoteToken.address as any);\n\n  const otherPools = detail.pools.filter((p) => p.pairId !== active.pairId);\n\n  return (\n    <div className=\"detail animate-in\">\n      {/* Header Image and Detail Top - only if not hidden */}\n      {!hideDetailTop && (\n        <>\n          {info.header && (\n            <div className=\"detail-header-wrap\">\n              <img src={info.header} alt=\"\" className=\"detail-header\" loading=\"lazy\" />\n            </div>\n          )}\n          \n          {/* Main Detail Section */}\n          <div className=\"detail-top\">\n            <div className=\"detail-avatar\">\n              {info.imageUrl ? \n                <img src={info.imageUrl} alt={`${active.baseToken.symbol} logo`} /> : \n                <div className=\"detail-letter\">{active.baseToken.symbol?.[0]}</div>\n              }\n            </div>\n            \n            <div className=\"detail-overview\">\n              <div className=\"detail-title\">\n                <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-2)' }}>\n                  <strong style={{ fontSize: '1.25rem', fontWeight: 700 }}>\n                    {active.baseToken.symbol} / {active.quoteToken.symbol}\n                  </strong>\n                  \n                  {/* Pool Selector Dropdown */}\n                  {pools.length > 1 && (\n                    <select\n                      value={pairId}\n                      onChange={(e) => {\n                        const sel = pools.find((p) => p.pairId === e.target.value);\n                        if (sel) onSwitch(sel);\n                      }}\n                      style={{\n                        background: 'var(--bg-input)',\n                        border: '1px solid var(--border)',\n                        borderRadius: 'var(--radius-small)',\n                        color: 'var(--text)',\n                        padding: 'var(--space-1) var(--space-2)',\n                        fontSize: '0.875rem',\n                        cursor: 'pointer',\n                      }}\n                    >\n                      {pools.map((p) => (\n                        <option key={p.pairId} value={p.pairId}>\n                          {p.dex} {p.version ? `(${p.version})` : ''} — {p.base}/{p.quote}\n                          {p.gtSupported === false ? ' — Limited' : ''}\n                        </option>\n                      ))}\n                    </select>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"detail-subline\">\n                <span style={{ color: 'var(--text-secondary)' }}>{active.baseToken.name}</span>\n                <span className=\"badge\">{chain}</span>\n                <span className=\"badge\">{detail.provider}</span>\n                {active.gtSupported === false && <span className=\"badge limited\">Limited</span>}\n              </div>\n              \n              {info.description && (\n                <div className=\"detail-desc\">\n                  {descExpanded ? info.description : info.description.slice(0, 300)}\n                  {info.description.length > 300 && !descExpanded && (\n                    <button \n                      className=\"detail-more\" \n                      onClick={() => setDescExpanded(true)}\n                      style={{\n                        marginLeft: 'var(--space-2)',\n                        background: 'none',\n                        border: 'none',\n                        color: 'var(--telegram-blue)',\n                        cursor: 'pointer',\n                        fontWeight: 500,\n                      }}\n                    >\n                      More <ExpandMoreIcon sx={{ fontSize: 16 }} />\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* KPIs Grid */}\n      <div className=\"detail-kpis\">\n        <div className=\"kpi-item\">\n          <span>Price USD</span>\n          <strong>{fmtUsdOrDash(kpis.priceUsd)}</strong>\n        </div>\n        <div className=\"kpi-item\">\n          <span>Price {active.quoteToken.symbol}</span>\n          <strong>{fmtUsdOrDash(kpis.priceNative)}</strong>\n        </div>\n        <div className=\"kpi-item\">\n          <span>Liquidity</span>\n          <strong>{fmtUsdOrDash(kpis.liqUsd)}</strong>\n        </div>\n        <div className=\"kpi-item\">\n          <span>FDV</span>\n          <strong>{fmtUsdOrDash(kpis.fdvUsd)}</strong>\n        </div>\n        <div className=\"kpi-item\">\n          <span>Market Cap</span>\n          <strong>{fmtUsdOrDash(kpis.mcUsd)}</strong>\n        </div>\n        <div className=\"kpi-item\">\n          <span>24h Change</span>\n          <strong className={kpis.priceChange24hPct !== undefined ? (kpis.priceChange24hPct < 0 ? 'neg' : 'pos') : undefined}>\n            {fmtPct(kpis.priceChange24hPct)}\n          </strong>\n        </div>\n        <div className=\"kpi-item kpi-wide\">\n          <span>Price Changes (5m | 1h | 6h | 24h)</span>\n          <strong>{renderPriceChanges(active.priceChange)}</strong>\n        </div>\n        <div className=\"kpi-item kpi-wide\">\n          <span>Transactions (Total | Buys — Sells)</span>\n          <strong>{renderTxns(active.txns)}</strong>\n        </div>\n        <div className=\"kpi-item kpi-wide\">\n          <span>Volume (5m | 1h | 6h | 24h)</span>\n          <strong>{renderVolume(active.volume)}</strong>\n        </div>\n      </div>\n\n      {/* Addresses */}\n      <div className=\"detail-addrs\">\n        {active.pairAddress && (\n          <div className=\"addr-row\">\n            <span>Pair:</span>\n            <div>\n              <code>{active.pairAddress}</code>\n              <CopyButton text={active.pairAddress} label=\"pair address\" />\n              {pairExplorer && (\n                <a href={pairExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <OpenInNewIcon sx={{ fontSize: 16 }} />\n                </a>\n              )}\n            </div>\n          </div>\n        )}\n        <div className=\"addr-row\">\n          <span>{active.baseToken.symbol}:</span>\n          <div>\n            <code>{active.baseToken.address}</code>\n            <CopyButton text={active.baseToken.address} label={`${active.baseToken.symbol} address`} />\n            {baseExplorer && (\n              <a href={baseExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                <OpenInNewIcon sx={{ fontSize: 16 }} />\n              </a>\n            )}\n          </div>\n        </div>\n        <div className=\"addr-row\">\n          <span>{active.quoteToken.symbol}:</span>\n          <div>\n            <code>{active.quoteToken.address}</code>\n            <CopyButton text={active.quoteToken.address} label={`${active.quoteToken.symbol} address`} />\n            {quoteExplorer && (\n              <a href={quoteExplorer} target=\"_blank\" rel=\"noopener noreferrer\">\n                <OpenInNewIcon sx={{ fontSize: 16 }} />\n              </a>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Project Links */}\n      {linkItems.length > 0 && (\n        <div className=\"detail-links\">\n          {linkItems.map((l, i) => {\n            const IconComponent = LINK_ICONS[l.key] || WebsiteIcon;\n            return (\n              <a key={i} href={l.url} target=\"_blank\" rel=\"noopener noreferrer\" title={l.key}>\n                <IconComponent sx={{ fontSize: 20 }} />\n              </a>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Other Pools */}\n      {otherPools.length > 0 && (\n        <div className=\"detail-pools\">\n          <h3 style={{ \n            fontSize: '1rem', \n            fontWeight: 600, \n            margin: '0 0 var(--space-3) 0',\n            color: 'var(--text-secondary)',\n          }}>\n            Other Pools\n          </h3>\n          {otherPools.slice(0, 3).map((p) => (\n            <details key={p.pairId} className=\"pool-item\">\n              <summary>\n                <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-2)' }}>\n                  <span style={{ fontWeight: 600 }}>\n                    {p.dex} {p.version && `(${p.version})`}\n                  </span>\n                  <span>—</span>\n                  <span>{p.baseToken.symbol}/{p.quoteToken.symbol}</span>\n                  <span>—</span>\n                  <span style={{ color: 'var(--text-muted)' }}>\n                    Liq ${p.liquidity?.usd ? formatCompact(p.liquidity.usd) : '—'}\n                  </span>\n                  {!p.gtSupported && <span className=\"badge limited\">Limited</span>}\n                </div>\n              </summary>\n              <div className=\"pool-body\">\n                <div className=\"pool-switcher\">\n                  <button \n                    onClick={() => onSwitch(p)}\n                    className=\"btn-secondary\"\n                    style={{ marginTop: 'var(--space-2)' }}\n                  >\n                    Switch to this pool\n                  </button>\n                </div>\n              </div>\n            </details>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"
        }
    ]
}